#1 Network layer

Switch > Router > Internet > Server
Router and Internet are a part of Autonomous sustem(ISP)

- Network layer routes packets from source to destination within or outside a subnet
- Two different subnet may have different addressing schemes or non-compatible addressing types.
- Same with protocols, two different subnet may be operating on different protocols 
- Network layer has the responsibility to route the packets from source to destination, mapping different addressing schemes and protocols.
- Data from the transport layer is encapsulated into packets, with source and destination IPs attached.

- Network address is always configured on network interface card 
- and is generally mapped by system with the MAC address

#2 Protocols 
- Address Resolution Protocol(ARP)
- Dynamic Host Configuration Protocol(DHCP)
- Internet Protocol(IP)

#3 Function
- Internetworking
- Addressing 
- Routing and Forwarding 
- Scability(using hirerchy in networks)
- Bandwidth control
- Fragmentation and Re-assembly

#4 circuit switching and packet switching
- network layer TCP/IP model uses > packet switching > datagram
- data is always divided into packets 

$ circuit switching - thery concept / used in telephone  networks
- establish a connection 
- used that conection
- close that connection
- bandwidth is allocated which is used in connection making
- and release that bandwidth

$ Packet switching
- divide ur input data into multiple packet
- and these packet go through multiple router 
- routers use store and forward switching 
- and that utilize the bandwidth more efficiently
- and is called statistical multiplexing
  $.1 Virtual circuit
    Connection required
    Routing happen per connection
    Packets have circuit identificaton
    Faliurs are difficult to handle
    quality of service is easy to add
  $.1 DataGram
    Connection not required
    Routing happen per circuit
    Packets have destination address
    Faliurs are easy to handle
    quality of service is difficult to gurantee

#5 Classful Addressing
- ip/ipv4 are 32 bit address
- 2^32 address 4.3 billion
  cider
  classless addressing
  net 

CLASS A: begins with 0
  8bits for network (2^7 total network)
  24bits for host (there are 2^24 - 2)
  
  10.0.0.0 - firt address in this particular address
  10.255.255.255 - firt address in this particular address
  110.0.0.0 - firt address in this particular address
  
  RANGE: 0.0.0.0 to 127.255.255.255

CLASS B: begins with 10
  16bits for network (2^14 total network)
  16bits for host (there are 2^16 - 2)
  
  RANGE: 128.0.0.0 to 191.255.255.255

CLASS C: begins with 110
  24bits for network (2^21 total network)
  8bits for host (there are 2^8 - 2)
  
  RANGE: 192.0.0.0 to 223.255.255.255

CLASS D: begins with 1110 RANGE: 224.0.0.0 to 239.255.255.255
CLASS E: beigns with 1111 RANGE: 240.0.0.0 to 255.255.255.255

#5.1 NAT(Network Address Translation)

Class C networks is been used 
- ISP provides you a wifi access point with the router 
- devices at home get class c address

- laptop1 192.0.0.1
- laptop2 192.0.0.2                |                  |
- laptop3 192.0.0.3      private <-| router 182.23.2.1 |-> public   -----> Internet 
- laptop4 192.0.0.4                | NATBOX change    |
- laptop5 192.0.0.5                | private-> public |

#6 Subnetting

- Subnetting is the process of dividing a large network into smaller networks called subnets.
- Each subnet provides its own space for devices to communicate, improving network performance, security, and management.

SUBNET MASK: sequence of 1s followed by 0s (32bit)
- 1s representedd the network address
- 0s for host

255.0.0.0 - 8bits for network address
255.255.0.0 - 16bits for network address

EXAMPLE:
CLASS C: Network ID (24bits) | Host (8bit)
193.8.2.0
193.8.2.255

a b c d 
- we want to set up 4 sub network
- in subnetting we take some bits from host id > increase network id
- we have 4 div we will take 2bit
- CLASS C: Network ID (26bits) | Host (6bit)
- a(00) 192.8.2.0  (00000000) to ... 63(00111111) router \ 
- b(01)        .64 (01000000) to ...127(01111111) router |- Gateway
- c(10)        .128(10000000) to ...191(10111111) router |- Router
- d(11)        .192(11000000) to ...255(11111111) router /

SUBNET MASK: 
 <-- ------ 26bits ------- --><-6-->
 11111111.11111111.11111111.11000000  =  255.255.255.192
   
- here if we didnt div we have 256 - 2 no of address
- but now each have individual start and broadcast 265 - (4x2) 

Variable length subnetting:
same take 2bits from host
   |- a  00
ip |- b  10
   |_/-c 0
     \-d

#7 CIDR(CLassless inter domain routing)  = classfull + subnetting

CLass A: 1byte Network ID
CLass B: 2byte Network ID
CLass 3: 3byte Network ID

CIDR: Boundaries in Bits for Network ID

23 bits Netwirk ID
9 bits Host 
                     <--9bit-->
193.2.10.0    -> ...10.00000000
193.2.11.255  -> ...11.11111111

SUBNET MASK: 255.255.254.0 -> 1111-1111.1111-1111.1111-1110.0000-0000
ALT WAY > CIDR NOTATION : 193.2.10.1/23

1.SUBNET MASK: 11.....1.000....0
              nbits     32-n
nbits: Network identification
32-n: Host identification

2. Total available IPs in this network with a subnet mask of n bits = 2^32-n
3. total available ips = 2^32 - 2
4. All ips will have n bits as same
5. 1st ips address will have 32-n bits as 0s (For Network identification)
6. last ips addres will have 32-n bits as 1s (For Broad casting)

#8 More on Subnetting

1. we need to set up its IP address
2. Gateway > device connected to the internet > and this make our device connect to the internet 
3. Set DNS server 
4. Subnet mask

These we set up for every device 
which is connected to a network 
And through these network its connected to internet 

Now days we have DHCP which auto setup these things

#10 ARP(Address resolution Protocol): Used to get MAC address of a given IP address

#11 Routing  Algo (background)

IPS airtel    ---|
ISP Jio       ---|
ISP NuraLink  ---|

% Static 
% Dynamic
    Exterior Gateway Protocol: used to route isps
    Interior Gateway Protocol: used to route inside isps
      i/Distance Vector
        RIP, EIGRP
      i/Link State 
        IS-IS, OSPF

Unicast: one source one destinnation

Q/ How do we decide cost od links?
Bandwidth
Network Delay
Hop Count
Path Cost
Load
Maximum Transmission Unit






